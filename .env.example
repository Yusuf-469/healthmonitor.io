# IoT Health Monitor - Environment Configuration
# For Railway Deployment

# =============================================================================
# RAILWAY-SPECIFIC VARIABLES (Auto-configured by Railway)
# =============================================================================
# PORT - Auto-assigned by Railway
# RAILWAY_ENVIRONMENT - Set to 'true' when running on Railway
# RAILWAY_STATIC_URL - Your Railway app URL
# RAILWAY_GIT_COMMIT_LINK - Git commit reference
# =============================================================================

# Server Configuration
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://your-app-name.railway.app

# =============================================================================
# MONGODB CONFIGURATION (Critical for Production)
# =============================================================================
# Option 1: Use MongoDB Atlas (Recommended for Railway)
# Get free cluster at https://cloud.mongodb.com
MONGODB_URI=mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/iot_health_monitor

# Option 2: Use Railway MongoDB Plugin (Recommended)
# When you add MongoDB plugin in Railway, it auto-sets MONGO_URI
# Just remove the # from the line below:
# MONGO_URI=${MONGO_URI}

# Option 3: Local Development (Uncomment for local testing)
# MONGODB_URI=mongodb://localhost:27017/iot_health_monitor

# =============================================================================
# FIREBASE CONFIGURATION (Optional - for push notifications)
# =============================================================================
# Create a Firebase project at https://console.firebase.google.com
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Here\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# =============================================================================
# JWT CONFIGURATION (Security - CHANGE IN PRODUCTION!)
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-long
JWT_EXPIRES_IN=7d

# =============================================================================
# EMAIL CONFIGURATION (for alerts via SMTP)
# =============================================================================
# Using Gmail SMTP (requires App Password)
# Get app password at: https://myaccount.google.com/homepasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-16-digit-app-password

# =============================================================================
# SMS CONFIGURATION (Twilio - Optional)
# =============================================================================
# Sign up at https://www.twilio.com
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=info

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# DEVICE CONFIGURATION
# =============================================================================
DEVICE_HEARTBEAT_INTERVAL=30000
DEVICE_OFFLINE_THRESHOLD=300000

# =============================================================================
# SECURITY
# =============================================================================
# Rate limiting disabled for health check endpoints
ENABLE_RATE_LIMITING=true
